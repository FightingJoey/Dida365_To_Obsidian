# Dida365 To Obsidian

ä¸€ä¸ªå°†æ»´ç­”æ¸…å•ï¼ˆDida365ï¼‰ä»»åŠ¡ã€é¡¹ç›®ã€ä¹ æƒ¯ç­‰æ•°æ®å¯¼å‡ºä¸º Obsidian å‹å¥½æ ¼å¼çš„ Python å·¥å…·ï¼Œæ”¯æŒå¤šç§ Markdown ç»“æ„å’Œæ—¥å†æ‘˜è¦ï¼Œé€‚åˆä¸ªäººçŸ¥è¯†ç®¡ç†å’Œä»»åŠ¡å½’æ¡£ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

Dida365 To Obsidian ä¸“ä¸ºæ»´ç­”æ¸…å•ç”¨æˆ·è®¾è®¡ï¼Œè‡ªåŠ¨å¯¼å‡ºä»»åŠ¡ã€é¡¹ç›®ã€ä¹ æƒ¯ç­‰æ•°æ®ä¸º Markdown æ–‡ä»¶ï¼Œå…¼å®¹ Obsidianï¼Œæ”¯æŒåŒå‘é“¾æ¥ã€Front Matterã€æ—¥å†æ‘˜è¦ç­‰ç‰¹æ€§ã€‚

---

## âœ¨ ä¸»è¦åŠŸèƒ½

- **ä»»åŠ¡å¯¼å‡º**ï¼šå°†æ‰€æœ‰æœªå®Œæˆä»»åŠ¡å¯¼å‡ºä¸ºç‹¬ç«‹ Markdown æ–‡ä»¶ï¼ŒåŒ…å«è¯¦ç»†å…ƒæ•°æ®ã€æè¿°ã€å­ä»»åŠ¡ã€çˆ¶ä»»åŠ¡ç­‰ã€‚
- **é¡¹ç›®ç´¢å¼•**ï¼šæ”¯æŒç»Ÿä¸€ç´¢å¼•ï¼ˆ`TasksInbox.md`ï¼‰å’Œåˆ†é¡¹ç›®ç´¢å¼•ï¼ˆ`Projects/é¡¹ç›®å.md`ï¼‰ã€‚
- **æ—¥å†æ‘˜è¦**ï¼šè‡ªåŠ¨ç”Ÿæˆæ¯æ—¥ã€æ¯å‘¨ã€æ¯æœˆä»»åŠ¡æ‘˜è¦ï¼Œç»“æ„æ¸…æ™°ï¼Œä¾¿äºå›é¡¾ã€‚
- **ä¹ æƒ¯å¯¼å‡º**ï¼šæ”¯æŒæ»´ç­”æ¸…å•ä¹ æƒ¯æ‰“å¡æ•°æ®çš„å¯¼å‡ºä¸ç»Ÿè®¡ã€‚
- **æ™ºèƒ½é“¾æ¥**ï¼šè‡ªåŠ¨ç”Ÿæˆä»»åŠ¡é—´çˆ¶å­å…³ç³»ã€é¡¹ç›®å½’å±ç­‰ Obsidian å‹å¥½é“¾æ¥ã€‚
- **æ—¶é—´æ ¼å¼åŒ–**ï¼šæ‰€æœ‰æ—¶é—´å‡è‡ªåŠ¨è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ¼å¼ã€‚
- **æœ¬åœ°å®‰å…¨**ï¼šæ‰€æœ‰æ•°æ®ä»…åœ¨æœ¬åœ°å¤„ç†ï¼Œè´¦å·ä¿¡æ¯å®‰å…¨å¯æ§ã€‚

---

## ğŸ—ï¸ ç›®å½•ç»“æ„

```
Dida365_To_Obsidian/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Dida365Client.py      # æ»´ç­”æ¸…å• API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ TaskExporter.py       # ä»»åŠ¡å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ CalendarExporter.py   # æ—¥å†æ‘˜è¦å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ Types.py              # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ env.example
â”œâ”€â”€ README.md
â””â”€â”€ ...
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### ä¾èµ–å®‰è£…

```bash
pip install -r requirements.txt
```

### è´¦å·ä¸ç¯å¢ƒå˜é‡

- æ¨èä½¿ç”¨ `.env` æ–‡ä»¶å­˜å‚¨è´¦å·ã€token ä¿¡æ¯ï¼Œé¿å…å¯†ç æš´éœ²ã€‚
- æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’è´¦å·ä¿¡æ¯ã€‚
- tokenã€inbox_id é¦–æ¬¡ç™»å½•åè‡ªåŠ¨å†™å…¥ `.env`ï¼Œåç»­å¤ç”¨ã€‚

`.env` ç¤ºä¾‹ï¼š

```
DIDA365_USERNAME=your_email@example.com
DIDA365_PASSWORD=your_password
OUTPUT_DIR=/path/to/output
DIDA365_TOKEN=None
DIDA365_INBOX_ID=None
```

ä¼˜å…ˆçº§é¡ºåºï¼šå‚æ•°ä¼ å…¥ > ç¯å¢ƒå˜é‡ > `.env` æ–‡ä»¶ > å½“å‰ç›®å½•ã€‚

---

## ğŸ§© ä¸»è¦æ¨¡å—ä¸ç”¨æ³•

### 1. Dida365Client

æ»´ç­”æ¸…å• API å®¢æˆ·ç«¯ï¼Œè´Ÿè´£ç™»å½•ã€token ç®¡ç†ã€æ•°æ®è·å–ã€‚

**ä¸»è¦å‚æ•°ï¼š**

- `username`ã€`password`ï¼šè´¦å·ä¿¡æ¯ï¼Œå¯çœç•¥ï¼ˆè‡ªåŠ¨è¯»å–ç¯å¢ƒå˜é‡æˆ– .envï¼‰

**ä¸»è¦æ–¹æ³•ï¼š**

- `get_all_data()`ï¼šè·å–æ‰€æœ‰é¡¹ç›®ã€ä»»åŠ¡ã€æ ‡ç­¾ç­‰æ•°æ®
- `get_projects()`ï¼šè·å–é¡¹ç›®åˆ—è¡¨
- `get_project_tasks(project_id, to_date, limit)`ï¼šè·å–æŒ‡å®šé¡¹ç›®çš„ä»»åŠ¡
- `get_task(task_id)`ï¼šè·å–å•ä¸ªä»»åŠ¡è¯¦æƒ…
- `get_completed_tasks(from_date, to_date, limit)`ï¼šè·å–å·²å®Œæˆä»»åŠ¡
- `get_abandoned_tasks(status, limit)`ï¼šè·å–å·²æ”¾å¼ƒä»»åŠ¡
- `get_task_comments(project_id, task_id)`ï¼šè·å–ä»»åŠ¡è¯„è®º
- `get_trash_tasks()`ï¼šè·å–å›æ”¶ç«™ä»»åŠ¡
- `get_habits()`ï¼šè·å–ä¹ æƒ¯åˆ—è¡¨
- `get_habits_checkins(after_stamp, habitIds)`ï¼šè·å–ä¹ æƒ¯æ‰“å¡è®°å½•

**è‡ªåŠ¨ token ç®¡ç†ï¼š**

- é¦–æ¬¡ç™»å½•è‡ªåŠ¨ä¿å­˜ token åˆ° .envï¼Œåç»­ä¼˜å…ˆå¤ç”¨æœ¬åœ° tokenã€‚

### 2. TaskExporter

ä»»åŠ¡å¯¼å‡ºå™¨ï¼Œå°†æ»´ç­”æ¸…å•ä»»åŠ¡æ•°æ®å¯¼å‡ºä¸º Markdown æ–‡ä»¶ã€‚

**ä¸»è¦å‚æ•°ï¼š**

- `client`ï¼šDida365Client å®ä¾‹
- `output_dir`ï¼šè¾“å‡ºç›®å½•ï¼ˆå¯é€‰ï¼‰
- `unified_index`ï¼šæ˜¯å¦ç”Ÿæˆç»Ÿä¸€ç´¢å¼•ï¼ˆé»˜è®¤ Trueï¼‰

**ä¸»è¦æ–¹æ³•ï¼š**

- `export_project_tasks(project_id='')`ï¼šå¯¼å‡ºæ‰€æœ‰/æŒ‡å®šé¡¹ç›®çš„æœªå®Œæˆä»»åŠ¡
- `_create_task_markdown(task, task_dict)`ï¼šç”Ÿæˆå•ä¸ªä»»åŠ¡ Markdown æ–‡ä»¶
- `_create_project_index(project, tasks, project_dir)`ï¼šç”Ÿæˆé¡¹ç›®ç´¢å¼•æ–‡ä»¶
- `_get_project_index_content(project, tasks)`ï¼šè¿”å›é¡¹ç›®ç´¢å¼•å†…å®¹å­—ç¬¦ä¸²

**è¾“å‡ºç»“æ„ï¼š**

- `Tasks/`ï¼šæ‰€æœ‰ä»»åŠ¡ Markdown æ–‡ä»¶
- `Projects/`ï¼šåˆ†é¡¹ç›®ç´¢å¼•æ¨¡å¼ä¸‹çš„é¡¹ç›®ç´¢å¼•
- `TasksInbox.md`ï¼šç»Ÿä¸€ç´¢å¼•æ¨¡å¼ä¸‹çš„æ€»ç´¢å¼•

**ä»»åŠ¡æ–‡ä»¶å†…å®¹ï¼š**

- Front Matterï¼ˆå…ƒæ•°æ®ï¼‰
- ä»»åŠ¡æè¿°
- å­ä»»åŠ¡/çˆ¶ä»»åŠ¡è¡¨æ ¼
- ä»»åŠ¡åˆ—è¡¨ï¼ˆå¦‚æœ‰ï¼‰

### 3. CalendarExporter

æ—¥å†æ‘˜è¦å¯¼å‡ºå™¨ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¯æ—¥ã€æ¯å‘¨ã€æ¯æœˆä»»åŠ¡æ‘˜è¦ã€‚

**ä¸»è¦å‚æ•°ï¼š**

- `client`ï¼šDida365Client å®ä¾‹
- `output_dir`ï¼šè¾“å‡ºç›®å½•ï¼ˆå¯é€‰ï¼‰

**ä¸»è¦æ–¹æ³•ï¼š**

- `export_daily_summary(date=None)`ï¼šå¯¼å‡ºæŒ‡å®š/å½“å¤©çš„æ¯æ—¥æ‘˜è¦
- `export_weekly_summary(date=None)`ï¼šå¯¼å‡ºæŒ‡å®š/å½“å‰å‘¨çš„å‘¨æ‘˜è¦
- `export_monthly_summary(date=None)`ï¼šå¯¼å‡ºæŒ‡å®š/æœˆçš„æœˆæ‘˜è¦

**æ‘˜è¦å†…å®¹ï¼š**

- æ¯æ—¥ï¼šåˆ†å¾…åŠã€å·²å®Œæˆã€ä¹ æƒ¯æ‰“å¡
- æ¯å‘¨ï¼šæŒ‰å¤©åˆ†ç»„ï¼Œå±•ç¤ºæ¯æ—¥å¾…åŠ/å·²å®Œæˆ
- æ¯æœˆï¼šæŒ‰å‘¨åˆ†ç»„ï¼Œå±•ç¤ºæ¯å‘¨å¾…åŠ/å·²å®Œæˆ

**è¾“å‡ºç»“æ„ï¼š**

- `Calendar/Daily/`ï¼šæ¯æ—¥æ‘˜è¦
- `Calendar/Weekly/`ï¼šæ¯å‘¨æ‘˜è¦
- `Calendar/Monthly/`ï¼šæ¯æœˆæ‘˜è¦

### 4. Types

æ•°æ®æ¨¡å‹å®šä¹‰ï¼ŒåŒ…å« Taskã€Projectã€Tagã€Habit å››ä¸ªä¸»è¦ç±»ã€‚

- **Task**ï¼šä»»åŠ¡æ‰€æœ‰å±æ€§ï¼ˆidã€titleã€projectIdã€priorityã€dueDateã€contentã€childIdsã€parentIdã€statusã€createdTimeã€modifiedTimeã€completedTime ç­‰ï¼‰
- **Project**ï¼šé¡¹ç›®å±æ€§ï¼ˆidã€nameã€colorã€sortOrderã€modifiedTime ç­‰ï¼‰
- **Tag**ï¼šæ ‡ç­¾å±æ€§ï¼ˆnameã€colorã€sortOrder ç­‰ï¼‰
- **Habit**ï¼šä¹ æƒ¯å±æ€§ï¼ˆidã€nameã€colorã€statusã€remindersã€repeatRuleã€createdTimeã€totalCheckIns ç­‰ï¼‰

---

## ğŸ“ è¾“å‡ºæ–‡ä»¶ç»“æ„

```
output_directory/
â”œâ”€â”€ Tasks/                    # ä»»åŠ¡æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ task_id_1.md          # ä»»åŠ¡æ–‡ä»¶
â”‚   â”œâ”€â”€ task_id_2.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Projects/                 # é¡¹ç›®æ–‡ä»¶ç›®å½•ï¼ˆåˆ†é¡¹ç›®ç´¢å¼•æ¨¡å¼ï¼‰
â”‚   â”œâ”€â”€ é¡¹ç›®åç§°1.md           # é¡¹ç›®ç´¢å¼•æ–‡ä»¶
â”‚   â”œâ”€â”€ é¡¹ç›®åç§°2.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ TasksInbox.md             # ç»Ÿä¸€ç´¢å¼•æ¨¡å¼ä¸‹çš„é¡¹ç›®ç´¢å¼•
â””â”€â”€ Calendar/
    â”œâ”€â”€ Daily/
    â”œâ”€â”€ Weekly/
    â””â”€â”€ Monthly/
```

### ä»»åŠ¡æ–‡ä»¶æ ¼å¼

- Front Matterï¼šä»»åŠ¡å…ƒæ•°æ®ï¼ˆtitleã€task_idã€project_idã€start_dateã€due_dateã€priorityã€statusã€created_timeã€modified_timeï¼‰
- ä»»åŠ¡æè¿°
- ä»»åŠ¡åˆ—è¡¨ï¼ˆå¦‚æœ‰ï¼‰
- å­ä»»åŠ¡è¡¨æ ¼ï¼ˆå¦‚æœ‰ï¼‰
- çˆ¶ä»»åŠ¡è¡¨æ ¼ï¼ˆå¦‚æœ‰ï¼‰

### é¡¹ç›®ç´¢å¼•æ–‡ä»¶æ ¼å¼

- ç»Ÿä¸€ç´¢å¼•ï¼š`TasksInbox.md`ï¼Œæ‰€æœ‰é¡¹ç›®ä»»åŠ¡æŒ‰é¡¹ç›®æ ‡é¢˜åˆ†åŒº
- åˆ†é¡¹ç›®ç´¢å¼•ï¼šæ¯ä¸ªé¡¹ç›®ä¸€ä¸ª md æ–‡ä»¶ï¼Œå†…å®¹åŒ…å«é¡¹ç›®å…ƒæ•°æ®å’Œä»»åŠ¡åˆ—è¡¨

### æ—¥å†æ‘˜è¦æ ¼å¼

- æ—¥æŠ¥ï¼šåˆ†å¾…åŠä»»åŠ¡ï¼ˆæ•°å­—åˆ—è¡¨ï¼‰ã€å·²å®Œæˆä»»åŠ¡ï¼ˆå¸¦å®Œæˆæ—¶é—´ï¼‰ã€ä¹ æƒ¯æ‰“å¡
- å‘¨æŠ¥ï¼šä»¥æ—¥æœŸä¸ºèŠ‚ç‚¹ï¼Œæ¯å¤©åˆ†å¾…åŠ/å·²å®Œæˆ
- æœˆæŠ¥ï¼šä»¥å‘¨ä¸ºèŠ‚ç‚¹ï¼Œæ¯å‘¨åˆ†å¾…åŠ/å·²å®Œæˆ

---

## ğŸ”’ æ•°æ®å®‰å…¨ä¸éšç§

- æ‰€æœ‰æ•°æ®ä»…åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ã€‚
- æ¨èä½¿ç”¨ `.env` æ–‡ä»¶å­˜å‚¨è´¦å·å’Œ token ä¿¡æ¯ï¼Œé¿å…å¯†ç æš´éœ²ã€‚
- `.env` æ–‡ä»¶åº”åŠ å…¥ `.gitignore`ï¼Œé¿å…æ³„éœ²ã€‚
- è¯·å¦¥å–„ä¿ç®¡è´¦å·ä¿¡æ¯ã€‚

---

## ğŸ“ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ GitHub Issue
- å‘é€é‚®ä»¶è‡³ï¼š[devqiaoyu@aliyun.com]

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ï¼Œè¯·éµå®ˆæ»´ç­”æ¸…å•çš„æœåŠ¡æ¡æ¬¾ã€‚
